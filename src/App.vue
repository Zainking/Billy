<template>
  <div id="app">
    <h1>æ¯”åˆ©Â·æµ·çµé¡¿</h1>
    <h2>Billy Herrington</h2>
    <div class="Billy"><img src="http://ov4zgil7v.bkt.clouddn.com/Billy.jpg" alt="Billy"></div>
    <p>æ¯”åˆ©æµ·çµé¡¿ç”Ÿäº1969å¹´7æœˆ14æ—¥ï¼Œæ˜¯ç¾å›½çŸ¥åãš»ç‰‡ï¼ˆGVï¼‰æ¼”å‘˜ä¹‹ä¸€ï¼Œæ—©å¹´ç”±äºåœ¨ä»–æ‹è¿‡çš„GVå½“ä¸­æœ‰è®¸å¤šè«åå…¶å¦™çš„æ‘”è·¤æˆï¼Œåˆåœ¨é€”ä¸­å‘å‡ºè®¸å¤šå¥‡å¥‡æ€ªæ€ªçš„å£°éŸ³ï¼Œå› æ­¤è‡ªç„¶å°±æˆä¸ºNicoåŠ¨ç”»ä¸Šé¢çš„å¥½ç´ æã€‚</p>
    <p>æ¯”åˆ©æµ·çµé¡¿å› ä¸ºå…¶è§†é¢‘ç´ æçš„å¹¿æ³›æµè¡Œï¼Œå¾ˆå¿«è¢«ä¸­æ—¥å®…åœˆå†…çš„ç½‘å‹ç†ŸçŸ¥ï¼Œæ—¥æœ¬ç½‘å‹å› å…¶å¥ç¡•çš„èº«æç§°å…¶ä¸ºâ€œANIKIâ€ï¼ˆå…„è´µï¼Œå¤§å“¥çš„æ„æ€ï¼‰ï¼Œæˆ–â€œæ£®ã®å¦–ç²¾â€ï¼Œéšåæ¯”åˆ©çš„äº‹è¿¹ä¸è§†é¢‘ä¼ å…¥Aç«™å¹¶å½±å“è‡³ä»Šã€‚</p>     
    <p>ä½œä¸ºA/Bç«™é¬¼ç•œåŒºå²è¯—çº§ç´ æä¸»æ¼”ä¹‹ä¸€ï¼Œä¸å“²â™‚å­¦æ–‡åŒ–çš„å‘èµ·è€…ä¹‹ä¸€ï¼Œæ¯”åˆ©æµ·çµé¡¿æ·±å—å›½å†…å¤–äºŒæ¬¡å…ƒç½‘å‹çš„å–œçˆ±ï¼Œå›½å†…ç²‰ä¸ä¸€èˆ¬ç§°å…¶ä¸ºç‹â™‚ã€‚</p>
    <p>æ¯”åˆ©æµ·çµé¡¿äº2018å¹´3æœˆ3æ—¥åœ¨ä¸€åœºè½¦ç¥¸ä¸­å»ä¸–ï¼Œå¹´ä»…48å²ã€‚æ¯”åˆ©æµ·çµé¡¿çš„æ¯äº²ä¸å¯¼æ¼”åˆ†åˆ«å åœ¨FBä¸æ¨ç‰¹ä¸Šç¡®è®¤äº†å…¶å»ä¸–çš„æ¶ˆæ¯ã€‚è‹±æ–‡ç»´åŸºç™¾ç§‘ä¹Ÿéšåæ›´æ–°äº†æ¯”åˆ©æµ·çµé¡¿è¯æ¡çš„ç”Ÿå’å¹´æœˆã€‚</p>
    <div><a href="#" class="btn" @click="onCandle">{{isCandled ? 'ä½ å·²ç»ç‚¹èœ¡' : isCandleing ? 'æ­£åœ¨ç‚¹èœ¡...' : 'ğŸ•¯ï¸ä¸ºç‹ç‚¹èœ¡'}}</a></div>
    <h2 class='title'>å…±æœ‰<span class="candleNum">{{candleNum}}</span>äººä¸ºä»–çŒ®ä¸Šäº†èœ¡çƒ›</h2>
    <p class="candles"><span v-for="n in candleNum">ğŸ•¯ï¸</span></p>
  </div>
</template>

<script>
import $ from 'jquery'
export default {
  name: 'app',
  data () {
    return {
      candleNum: 0,
      isCandled: false,
      isCandleing: false,
    }
  },
  methods: {
    onCandle (e) {
      e.preventDefault()
      if (this.isCandleing || this.isCandled) {
        return false;
      }
      this.isCandleing = true
      $.post('http://wzy88665.gotoip55.com/billyApi/billyApi.php', (data) => {
        data = JSON.parse(data)
        if (data) {
          this.isCandled = true
          this.candleNum++
          window.localStorage.setItem('isCandled', true)
        }
        this.isCandleing = false
      })
    }
  },
  created () {
    $.get('http://wzy88665.gotoip55.com/billyApi/billyApi.php', (data) => {
      data = JSON.parse(data)[0]
      this.candleNum = parseInt(data)
      console.log(this)
    })
    if (window.localStorage.getItem("isCandled")) {
      this.isCandled = true
    }
  }
}
</script>

<style>
body {
  background-color: #000;
}
#app {
  font-family: 'Avenir', Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #888;
  margin: 60px auto;
  background-color: #000;
  max-width: 600px;
  width: 100%;
}
.Billy {
  width: 100%;
  max-width: 395px;
  display: block;
  margin: 0 auto;
}
h1, h2 {
  font-weight: normal;
}
p {
  text-indent: 2em;
  text-align: left;
}
.btn {
  color: #333;
  font-size: 1.5em;
  background-color: #aaa;
  text-decoration: none;
  box-sizing: border-box;
  border: 1px solid #888;
  padding: 10px 20px;
  border-radius: 5px;
}
.btn:hover {
  background-color: #888;
  border-color: #aaa;
}
.title {
  border-bottom: 1px solid;
  text-align: left;
  margin-top: 60px;
}
.candleNum {
  color: #fff;
}
.candles {
  font-size: 2em;
  text-indent: 0;
}
</style>
